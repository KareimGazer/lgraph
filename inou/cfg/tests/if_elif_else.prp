$a as   (__bits:8)
$b as   (__bits:8)
%out as (__bits:8)

%out = $a
if ($a == 2) {
  %out = $a & $b
}
elif ($a == 3) {
  %out = $a | $B
}
else {
  %out = $a ^ $b
}
